@import "../../next-core/lib/next.scss";
@import "../../next-icon/lib/index.scss";

@import "./scss/variable.scss";
@import "./scss/normalize.scss";
@import "./scss/mixin.scss";

#{$timeline-prefix} {
    &-item {
        position: relative;
        display: block;
        min-height: $timeline-item-min-height;

        &:after {
            visibility: hidden;
            display: block;
            height: 0;
            font-size: 0;
            content: '\0020';
            clear: both;
        }

        &-line {
            float: left;

            #{$timeline-prefix}-item-node {
                position: relative;
                width: $timeline-item-node-size;
                height: $timeline-item-node-size;
                text-align: center;
                float: left;
            }

            #{$timeline-prefix}-item-dot {
                display: block;
                position: absolute;
                width: $timeline-item-dot-size;
                height: $timeline-item-dot-size;
                border-radius: 100%;
                top: 50%;
                margin-top: -$timeline-item-dot-size/2;
                left: 50%;
                margin-left: -$timeline-item-dot-size/2;
            }

            #{$timeline-prefix}-item-icon {
                display: block;
                position: absolute;
                width: $timeline-item-icon-size;
                height: $timeline-item-icon-size;
                line-height: $timeline-item-icon-size;
                border-radius: 100%;
                top: 50%;
                margin-top: -$timeline-item-icon-size/2;
                left: 50%;
                margin-left: -$timeline-item-icon-size/2;
            }

            #{$timeline-prefix}-item-tail {
                position: absolute;
                width: auto;
                height: calc(100% - #{$timeline-item-node-size});
                top: $timeline-item-node-size;
                left: $timeline-item-left-width + $timeline-item-node-size/2;

                i {
                    display: inline-block;
                    vertical-align: top;
                    height: 100%;
                    width: $timeline-item-tail-size;
                    border-left-width: $timeline-item-tail-size;
                    border-left-style: solid;
                    border-left-color: $timeline-item-tail-color;
                    position: relative;
                    -webkit-transition: all .4s ease;
                    transition: all .4s ease;
                }
            }
        }

        &-left {
            float: left;
            width: $timeline-item-left-width;
            min-height: $timeline-item-min-height;
            padding: 0 $timeline-item-left-padding;
            font-size: $timeline-item-left-font-size;
            color: $timeline-item-left-color;
            line-height: $timeline-item-left-font-size + 4;
        }

        &-right {
            float: left;
            padding: 0 $timeline-item-right-padding;
            font-size: $timeline-item-right-font-size;
            color: $timeline-item-right-color;
            line-height: $timeline-item-right-font-size + 4;
        }

        &-time {
            color: $timeline-item-time-color;
        }
    }

    &-item-done {
        @include node-state($timeline-item-done-background, $timeline-item-done-color);
    }

    &-item-process {
        @include node-state($timeline-item-process-background, $timeline-item-process-color);
    }

    &-item-success {
        @include node-state($timeline-item-success-background, $timeline-item-success-color);
    }

    &-item-error {
        @include node-state($timeline-item-error-background, $timeline-item-error-color);
    }

    &-item-last {
        min-height: 0;

        #{$timeline-prefix}-item-tail {
            display: none;
        }
    }

    &-item-folder {
        margin-top: $timeline-item-folder-margin-top;
        margin-bottom: $timeline-item-folder-margin-bottom;
        font-size: $timeline-item-folder-font-size;
        line-height: $timeline-item-folder-font-size + 4;
        min-height: 0;

        &-trigger {
            cursor: pointer;
            color: $timeline-item-folder-color;

            &:hover {
                color: $timeline-item-folder-hover-color;
            }

            #{$timeline-icon-prefix} {
                @include icon-handler($timeline-item-folder-icon-size);
            }
        }

        #{$timeline-prefix}-item-left {
            min-height: $s1;
        }

        #{$timeline-prefix}-item-right {
            margin-left: $timeline-item-node-size;
        }

        #{$timeline-prefix}-item-tail {
            height: 100%;
            top: 0;

            i {
                border-left-style: dashed;
            }
        }
    }

    &-item-folded {
        display: none;
    }

    &-item-unfolded {
        display: block;
    }

    &-item-last#{$timeline-prefix}-item-folded {
        min-height: $timeline-item-min-height;

        #{$timeline-prefix}-item-tail {
            display: block;

            i {
                border-left-style: dashed;
            }
        }
    }
}

#{$timeline-prefix}-no-left {
    #{$timeline-prefix}-item-line {
        #{$timeline-prefix}-item-tail {
            left: $timeline-item-node-size/2;
        }
    }
    #{$timeline-prefix}-item-left {
        min-height: 0;
    }
    #{$timeline-prefix}-item-item-folder {
        #{$timeline-prefix}-item-left {
            min-height: 0;
        }
    }
}
